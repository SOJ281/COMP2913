{% extends "base.html" %}

{% block content %}
    <h1>Booking Page</h1>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="notification is-danger">
            {{ messages[0] }}.</a>.
        </div>
    {% endif %}
    {% endwith %}
    <div id="map" style="width:80%;height:400px;"></div>
    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <script async
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD2OnK2cetLAhKZXr5BedIYOFrL5Oo9_bc&callback=showLocation" async defer>
    </script>
    <br>
    <form action="/booking" method=POST name="login">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
        {{ form.csrf }}

        <label for="location">Location</label>
        <select id="location" name="location" onchange = "showLocation()" >
          <option value="Trinity centre">Trinity centre</option>
          <option value="Train Station">Train Station</option>
          <option value="Merrion centre">Merrion centre</option>
          <option value="LRI hospital">LRI hospital</option>
          <option value="UoL Edge sports centre">UoL Edge sports centre</option>
        </select>

        <br>

        <label for="duration">Duration </label>
        <select id="duration" name="duration" onchange = "showCost('{{duration}}', '{{cost}}')">
          <option value=1>1 hour</option>
          <option value=4>4 hours</option>
          <option value=24>1 day</option>
          <option value=168>1 week</option>
        </select>

        <label for="cost">Cost</label>
        <p id = "costed"></p>

        <br>

        <p><input type="submit" value="Make Booking"></p>

    </form>

{% endblock %}
